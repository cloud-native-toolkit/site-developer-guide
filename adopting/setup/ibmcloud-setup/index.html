<!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The Cloud-Native Toolkit is an open-source collection of assets that enable application development and support teams to deliver business value quickly using Red Hat OpenShift or Kubernetes"><meta name=author content="Cloud-Native Toolkit development team"><link href=https://cloudnativetoolkit.dev/adopting/setup/ibmcloud-setup/ rel=canonical><link rel=icon href=../../../images/cloudnativetoolkit.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>Configuring IBM Cloud based setup - Cloud Native Toolkit</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style><link rel=stylesheet href=../../../css/extra.css><link rel=stylesheet href=../../../css/toolkit-code.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-153689700-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="Cloud Native Toolkit - Configuring IBM Cloud based setup"><meta property=og:description content="The Cloud-Native Toolkit is an open-source collection of assets that enable application development and support teams to deliver business value quickly using Red Hat OpenShift or Kubernetes"><meta content=https://cloudnativetoolkit.dev/adopting/setup/ibmcloud-setup/ property=og:url><meta property=og:image content=https://cloudnativetoolkit.dev/assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#prepare-an-ibm-cloud-account class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Cloud Native Toolkit" class="md-header__button md-logo" aria-label="Cloud Native Toolkit" data-md-component=logo> <img src=../../../images/cloudnativetoolkit.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Native Toolkit </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Configuring IBM Cloud based setup </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/cloud-native-toolkit/developer-guide/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine class according to configuration --> <!-- Main navigation --> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <!-- Site title --> <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../../.."
      title="Cloud Native Toolkit"
      class="md-nav__button md-logo"
      aria-label="Cloud Native Toolkit"
      data-md-component="logo"
    >
      
  <img src="../../../images/cloudnativetoolkit.png" alt="logo">

    </a>
    Cloud Native Toolkit
  </label>
--> <!-- Repository information --> <div class=md-nav__source> <a href=https://github.com/cloud-native-toolkit/developer-guide/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Overview <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Overview data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Overview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../overview/overview/ class=md-nav__link> What is the Cloud Native Toolkit </a> </li> <li class=md-nav__item> <a href=../../../overview/whats-new/ class=md-nav__link> What's New </a> </li> <li class=md-nav__item> <a href=../../../overview/prerequisites/ class=md-nav__link> Prerequisites </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Install <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Install data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Install </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../setup/setup-options/ class=md-nav__link> Options for installing up Toolkit </a> </li> <li class=md-nav__item> <a href=../../../setup/fast-start/ class=md-nav__link> Fast Start install </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Learning the Toolkit <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Learning the Toolkit" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Learning the Toolkit </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1 type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1> Try it <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Try it" data-md-level=2> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Try it </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/workshop/workshop/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/setup/ class=md-nav__link> Setup Cluster </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/terminal/ class=md-nav__link> Setup Terminal </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/ci/ class=md-nav__link> Continuous integration </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/cd/ class=md-nav__link> Continuous delivery </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/inventory/ class=md-nav__link> 3-tier application </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/appmod/ class=md-nav__link> Application modernization </a> </li> <li class=md-nav__item> <a href=../../../resources/workshop/ai/ class=md-nav__link> Artificial Intelligence </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Basics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Basics data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Basics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../learning/fast-start/ class=md-nav__link> Learning Overview </a> </li> <li class=md-nav__item> <a href=../../../learning/dev-setup/ class=md-nav__link> Developer setup </a> </li> <li class=md-nav__item> <a href=../../../learning/fast-ci/ class=md-nav__link> Continuous Integration </a> </li> <li class=md-nav__item> <a href=../../../learning/fast-cd/ class=md-nav__link> Continuous Delivery </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> In Depth <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="In Depth" data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> In Depth </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../learning/in-depth/ class=md-nav__link> Cloud-Native Development with the Toolkit </a> </li> <li class=md-nav__item> <a href=../../../learning/devops/ class=md-nav__link> DevOps </a> </li> <li class=md-nav__item> <a href=../../../learning/testing/ class=md-nav__link> Automated Testing </a> </li> <li class=md-nav__item> <a href=../../../learning/analysis/ class=md-nav__link> Static Analysis </a> </li> <li class=md-nav__item> <a href=../../../learning/pipeline/ class=md-nav__link> Pipeline </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Adopting the Toolkit <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Adopting the Toolkit" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Adopting the Toolkit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../adopting/ class=md-nav__link> Adopting the Toolkit </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Best Practices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Best Practices" data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../best-practices/best-practices/ class=md-nav__link> Best Practices </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_2 type=checkbox id=__nav_5_2_2> <label class=md-nav__link for=__nav_5_2_2> IBM Cloud setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM Cloud setup" data-md-level=3> <label class=md-nav__title for=__nav_5_2_2> <span class="md-nav__icon md-icon"></span> IBM Cloud setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../best-practices/ibm-cloud-account/ibm-cloud-setup/ class=md-nav__link> IBM Cloud setup </a> </li> <li class=md-nav__item> <a href=../../best-practices/ibm-cloud-account/plan-installation/ class=md-nav__link> Installation planning </a> </li> <li class=md-nav__item> <a href=../../best-practices/ibm-cloud-account/configure-account/ class=md-nav__link> Access control </a> </li> <li class=md-nav__item> <a href=../../best-practices/ibm-cloud-account/monitoring-logs/ class=md-nav__link> Monitoring and Logs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../best-practices/registry/ class=md-nav__link> Container Registry </a> </li> <li class=md-nav__item> <a href=../../best-practices/infrastructure-as-code/ class=md-nav__link> Infrastructure as Code </a> </li> <li class=md-nav__item> <a href=../../best-practices/devops/ class=md-nav__link> DevOps </a> </li> <li class=md-nav__item> <a href=../../best-practices/secret-management/ class=md-nav__link> Secret management </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 type=checkbox id=__nav_5_3 checked> <label class=md-nav__link for=__nav_5_3> Advanced setup options <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced setup options" data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Advanced setup options </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installing/ class=md-nav__link> Installation options </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Configuring IBM Cloud based setup <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Configuring IBM Cloud based setup </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-set-up-account-managers-access-group class=md-nav__link> 1. Set up account managers access group </a> <nav class=md-nav aria-label="1. Set up account managers access group"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-prepare-to-run-scripts class=md-nav__link> A. Prepare to run scripts </a> </li> <li class=md-nav__item> <a href=#b-create-the-access-group-for-account-managers class=md-nav__link> B. Create the access group for account managers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-configure-the-account class=md-nav__link> 2. Configure the account </a> <nav class=md-nav aria-label="2. Configure the account"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-prepare-to-run-scripts_1 class=md-nav__link> A. Prepare to run scripts </a> </li> <li class=md-nav__item> <a href=#b-upgrade-the-image-registry class=md-nav__link> B. Upgrade the image registry </a> </li> <li class=md-nav__item> <a href=#c-create-the-resource-group class=md-nav__link> C. Create the resource group </a> </li> <li class=md-nav__item> <a href=#d-create-an-ibm-cloud-api-key class=md-nav__link> D. Create an IBM Cloud API Key </a> </li> <li class=md-nav__item> <a href=#e-attach-the-ibm-cloud-api-key-to-the-resource-group class=md-nav__link> E. Attach the IBM Cloud API Key to the resource group </a> </li> <li class=md-nav__item> <a href=#f-create-access-groups-for-the-resource-group class=md-nav__link> F. Create access groups for the resource group </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-create-the-private-catalog class=md-nav__link> 3. Create the Private Catalog </a> <nav class=md-nav aria-label="3. Create the Private Catalog"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-create-the-catalog class=md-nav__link> A. Create the catalog </a> </li> <li class=md-nav__item> <a href=#b-register-the-cloud-native-toolkit-tiles-in-the-catalog class=md-nav__link> B. Register the Cloud-Native Toolkit tiles in the catalog </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-optional-set-up-classic-infrastructure class=md-nav__link> 4. (Optional) Set up Classic Infrastructure </a> <nav class=md-nav aria-label="4. (Optional) Set up Classic Infrastructure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-create-a-functional-id-for-classic-infrastructure-permissions class=md-nav__link> A. Create a functional ID for Classic Infrastructure permissions </a> </li> <li class=md-nav__item> <a href=#b-public-and-private-vlans class=md-nav__link> B. Public and private VLANs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> Next steps </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ibmcloud-tile-cluster/ class=md-nav__link> Install IBM Cloud cluster from catalog </a> </li> <li class=md-nav__item> <a href=../ibmcloud-iz-cluster/ class=md-nav__link> Install IBM Cloud cluster Iteration Zero </a> </li> <li class=md-nav__item> <a href=../provision-cluster/ class=md-nav__link> Install cluster elsewhere </a> </li> <li class=md-nav__item> <a href=../install-crc/ class=md-nav__link> Install CodeReady Containers </a> </li> <li class=md-nav__item> <a href=../air-gapped-setup/ class=md-nav__link> Air-gapped setup </a> </li> <li class=md-nav__item> <a href=../toolkit-install/ class=md-nav__link> Install toolkit to existing cluster </a> </li> <li class=md-nav__item> <a href=../configureEnvironment/ class=md-nav__link> Post Install steps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4> Customizing the Toolkit <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Customizing the Toolkit" data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Customizing the Toolkit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../customize/customize/ class=md-nav__link> Customization overview </a> </li> <li class=md-nav__item> <a href=../../customize/config-dashboard/dashboard/ class=md-nav__link> Customizing the dashboard </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5 type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5> Toolkit administration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Toolkit administration" data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Toolkit administration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../admin/artifactory-setup/ class=md-nav__link> Artifactory setup </a> </li> <li class=md-nav__item> <a href=../../admin/argo-cd-setup/ class=md-nav__link> Argo CD setup </a> </li> <li class=md-nav__item> <a href=../../admin/sysdig-setup/ class=md-nav__link> Sysdig setup </a> </li> <li class=md-nav__item> <a href=../../admin/cluster-config/ class=md-nav__link> cluster configuration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6 type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6> Use Cases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Cases" data-md-level=2> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Use Cases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../use-cases/applying/ class=md-nav__link> User cases </a> </li> <li class=md-nav__item> <a href=../../use-cases/add-use-case/ class=md-nav__link> Add a new use case </a> </li> <li class=md-nav__item> <a href=../../use-cases/operator/operator/ class=md-nav__link> Build an Operator </a> </li> <li class=md-nav__item> <a href=../../use-cases/ace-pipeline/ace-pipeline/ class=md-nav__link> App Connect REST API workflow </a> </li> <li class=md-nav__item> <a href=../../use-cases/gitops/gitops-toolkit/ class=md-nav__link> GitOps with Toolkit </a> </li> <li class=md-nav__item> <a href=../../use-cases/gitops/gitops-ace/ class=md-nav__link> GitOps with App Connect </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/reference/ class=md-nav__link> Reference </a> </li> <li class=md-nav__item> <a href=../../../reference/cli/ class=md-nav__link> Command Line Tool </a> </li> <li class=md-nav__item> <a href=../../../reference/dashboard/ class=md-nav__link> Developer Dashboard </a> </li> <li class=md-nav__item> <a href=../../../reference/git/ class=md-nav__link> Git repositories </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5> Starter Kits <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Starter Kits" data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Starter Kits </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/starter-kit/starter-kit/ class=md-nav__link> Starter Kit overview </a> </li> <li class=md-nav__item> <a href=../../../reference/starter-kit/starter-kits/ class=md-nav__link> Available Starter Kits </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6> Toolkit Components <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Toolkit Components" data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Toolkit Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/tools/tools/ class=md-nav__link> Toolkit components </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/argocd/ class=md-nav__link> ArgoCD </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/artifactory/ class=md-nav__link> Artifactory </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/jenkins/ class=md-nav__link> Jenkins </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/pact/ class=md-nav__link> PACT </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/sonar-qube/ class=md-nav__link> SonarQube </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/tekton/ class=md-nav__link> OpenShift Pipelines/Tekton </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/ibm-cloud-container-registry/ class=md-nav__link> IBM Container Registry </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/key-protect/ class=md-nav__link> IBM Key Protect </a> </li> <li class=md-nav__item> <a href=../../../reference/tools/container-image-security-enforcement/ class=md-nav__link> Container Image Security Enforcement </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_7 type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7> Pipeline Task Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Pipeline Task Reference" data-md-level=2> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> Pipeline Task Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/tasks/pipelines/ class=md-nav__link> Pipelines </a> </li> <li class=md-nav__item> <a href=../../../reference/tasks/placeholder/ class=md-nav__link> placeholder </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_8 type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8> Iteration Zero <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Iteration Zero" data-md-level=2> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> Iteration Zero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/iteration-zero/iteration-zero/ class=md-nav__link> Iteration Zero </a> </li> <li class=md-nav__item> <a href=../../../reference/iteration-zero/terraform/ class=md-nav__link> Terraform modules </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Resources data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/resources/ class=md-nav__link> Additional resources </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_2 type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2> IBM Cloud <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="IBM Cloud" data-md-level=2> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> IBM Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/ibm-cloud/ibm-cloud-roles/ class=md-nav__link> IBM Cloud roles </a> </li> <li class=md-nav__item> <a href=../../../resources/ibm-cloud/access-control/ class=md-nav__link> Access control </a> </li> <li class=md-nav__item> <a href=../../../resources/ibm-cloud/icc/ class=md-nav__link> ICC tool </a> </li> <li class=md-nav__item> <a href=../../../resources/ibm-cloud/cloud-shell/ class=md-nav__link> Cloud shell </a> </li> <li class=md-nav__item> <a href=../../../resources/ibm-cloud/crw/ class=md-nav__link> CodeReady Workspaces </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Contributing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Contributing data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../contribute/governance/ class=md-nav__link> Governance </a> </li> <li class=md-nav__item> <a href=../../../contribute/contribute/ class=md-nav__link> Contribute </a> </li> <li class=md-nav__item> <a href=../../../contribute/documentation/ class=md-nav__link> Documentation </a> </li> <li class=md-nav__item> <a href=../../../contribute/automation/ class=md-nav__link> Build Automation </a> </li> <li class=md-nav__item> <a href=../../../contribute/migration/ class=md-nav__link> Site Migration </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-set-up-account-managers-access-group class=md-nav__link> 1. Set up account managers access group </a> <nav class=md-nav aria-label="1. Set up account managers access group"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-prepare-to-run-scripts class=md-nav__link> A. Prepare to run scripts </a> </li> <li class=md-nav__item> <a href=#b-create-the-access-group-for-account-managers class=md-nav__link> B. Create the access group for account managers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-configure-the-account class=md-nav__link> 2. Configure the account </a> <nav class=md-nav aria-label="2. Configure the account"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-prepare-to-run-scripts_1 class=md-nav__link> A. Prepare to run scripts </a> </li> <li class=md-nav__item> <a href=#b-upgrade-the-image-registry class=md-nav__link> B. Upgrade the image registry </a> </li> <li class=md-nav__item> <a href=#c-create-the-resource-group class=md-nav__link> C. Create the resource group </a> </li> <li class=md-nav__item> <a href=#d-create-an-ibm-cloud-api-key class=md-nav__link> D. Create an IBM Cloud API Key </a> </li> <li class=md-nav__item> <a href=#e-attach-the-ibm-cloud-api-key-to-the-resource-group class=md-nav__link> E. Attach the IBM Cloud API Key to the resource group </a> </li> <li class=md-nav__item> <a href=#f-create-access-groups-for-the-resource-group class=md-nav__link> F. Create access groups for the resource group </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-create-the-private-catalog class=md-nav__link> 3. Create the Private Catalog </a> <nav class=md-nav aria-label="3. Create the Private Catalog"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-create-the-catalog class=md-nav__link> A. Create the catalog </a> </li> <li class=md-nav__item> <a href=#b-register-the-cloud-native-toolkit-tiles-in-the-catalog class=md-nav__link> B. Register the Cloud-Native Toolkit tiles in the catalog </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-optional-set-up-classic-infrastructure class=md-nav__link> 4. (Optional) Set up Classic Infrastructure </a> <nav class=md-nav aria-label="4. (Optional) Set up Classic Infrastructure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-create-a-functional-id-for-classic-infrastructure-permissions class=md-nav__link> A. Create a functional ID for Classic Infrastructure permissions </a> </li> <li class=md-nav__item> <a href=#b-public-and-private-vlans class=md-nav__link> B. Public and private VLANs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> Next steps </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/cloud-native-toolkit/developer-guide/edit/main/docs/adopting/setup/ibmcloud-setup.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=prepare-an-ibm-cloud-account>Prepare an IBM Cloud account<a class=headerlink href=#prepare-an-ibm-cloud-account title="Permanent link">&para;</a></h1> <!--- cSpell:ignore Paks cntk --> <p>IBM CloudPrepare the account for an installation of Cloud-Native Toolkit environment</p> <p><strong>Note:</strong> If you already have a cluster then you can jump to <a href=../toolkit-install/ >install the toolkit</a>. If you will be provisioning a cluster outside of IBM Cloud then you can jump to <a href=../provision-cluster/ >provision the cluster</a>.</p> <h2 id=1-set-up-account-managers-access-group>1. Set up account managers access group<a class=headerlink href=#1-set-up-account-managers-access-group title="Permanent link">&para;</a></h2> <p>The <strong>account owner</strong> creates this access group for account managers and adds the functional ID for managing API keys. See <a href=../../../resources/ibm-cloud/ibm-cloud-roles/ >IBM Cloud account management</a> for the overview of the roles involved. An account only needs one of these <code>account manager</code> access groups, which will be used to support all environments in the account.</p> <p>In a new account, the account owner is the only user. Even after inviting other users, the account owner is initially the only user with the account management permissions needed to grant those permissions to other users. Therefore, it is the account owner who must create the access group for account managers.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The video in <a href=../../../resources/ibm-cloud/access-control/#configuration-process>Resource Access Management &gt; Configuration Process</a> shows how to perform the steps in this process.</p> </div> <h3 id=a-prepare-to-run-scripts>A. Prepare to run scripts<a class=headerlink href=#a-prepare-to-run-scripts title="Permanent link">&para;</a></h3> <p>We'll use some scripts in the steps below to help create access groups. Before using them, the scripts need to be downloaded and the environment needs to be prepared before running them.</p> <h4 id=i-clone-the-iteration-zero-git-repository>i. Clone the Iteration Zero git repository<a class=headerlink href=#i-clone-the-iteration-zero-git-repository title="Permanent link">&para;</a></h4> <p>The <a href=https://github.com/cloud-native-toolkit/ibm-garage-iteration-zero>ibm-garage-iteration-zero</a> repository contains a number of scripts that support the administrative tasks. It also has contains the Terraform scripts for installing the Cloud-Native Toolkit environment.)</p> <div class=highlight><pre><span></span><code>git clone git@github.com:cloud-native-toolkit/ibm-garage-iteration-zero.git
<span class=nb>cd</span> ibm-garage-iteration-zero
</code></pre></div> <h4 id=ii-log-in-to-ibm-cloud-using-the-ibm-cloud-cli>ii. Log in to IBM Cloud using the IBM Cloud CLI<a class=headerlink href=#ii-log-in-to-ibm-cloud-using-the-ibm-cloud-cli title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>ibmcloud login -a cloud.ibm.com -r &lt;region&gt;
</code></pre></div> <h3 id=b-create-the-access-group-for-account-managers>B. Create the access group for account managers<a class=headerlink href=#b-create-the-access-group-for-account-managers title="Permanent link">&para;</a></h3> <p>The account owner must create an access group to grant the necessary permissions for managing the account. A script has been provided to automate the configuration of the policies.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>IBM Cloud has multiple <a href="https://cloud.ibm.com/docs/account?topic=account-cloudaccess">account management services</a>, in addition to IAM: Billing, License and entitlement, Support center, etc. An easy way to grant access to these individually is to create an access group for administering each: <code>ACCT-MGR-BILLING-ADMIN</code>, <code>ACCT-MGR-LICENSE-ADMIN</code>, <code>ACCT-MGR-SUPPORT-ADMIN</code>. The group created below only has IAM capabilities, so we suggest <code>ACCT-MGR-IAM-ADMIN</code> for its name.</p> </div> <p>To create the access group for the account managers:</p> <ol> <li>Create a new <a href="https://cloud.ibm.com/docs/account?topic=account-groups">access group</a> and name it something like <code>ACCT-MGR-IAM-ADMIN</code> or name it after your account (use all capital letters)</li> <li> <p>Run <code>./terraform/scripts/acp-mgr.sh</code> from the <code>ibm-garage-iteration-zero</code> repository to add the necessary policies to the access group</p> <div class=highlight><pre><span></span><code>./terraform/scripts/acp-mgr.sh ACCT-MGR-IAM-ADMIN
</code></pre></div> </li> <li> <p>Add the users to the access group</p> </li> </ol> <p>The <code>./terraform/scripts/acp-mgr.sh</code> script adds policies that allow the user to:</p> <ul> <li>Create resource groups</li> <li>Invite users to the account</li> <li>Create access groups and manage access group membership</li> <li>Create clusters across all resources groups in the account</li> <li>Create service instances across all resource groups in the account</li> <li>Manage the IBM Cloud Container Registry (used as the environment's image registry)</li> </ul> <h2 id=2-configure-the-account>2. Configure the account<a class=headerlink href=#2-configure-the-account title="Permanent link">&para;</a></h2> <p>The account must provide a few resources that will be needed to install and use the Cloud-Native Toolkit environment:</p> <ul> <li>Upgrade the image registry</li> <li>Create a resource group</li> <li>Create a pair of access groups for the admin and users</li> </ul> <h3 id=a-prepare-to-run-scripts_1>A. Prepare to run scripts<a class=headerlink href=#a-prepare-to-run-scripts_1 title="Permanent link">&para;</a></h3> <p>We'll use some scripts in the steps below to help create access groups. Before using them, the scripts need to be downloaded and the environment needs to be prepared before running them.</p> <h4 id=i-clone-the-iteration-zero-git-repository_1>i. Clone the Iteration Zero git repository<a class=headerlink href=#i-clone-the-iteration-zero-git-repository_1 title="Permanent link">&para;</a></h4> <p>The <a href=https://github.com/cloud-native-toolkit/ibm-garage-iteration-zero>ibm-garage-iteration-zero</a> repository contains a number of scripts that support the administrative tasks. It also has contains the Terraform scripts for installing the Cloud-Native Toolkit environment.)</p> <div class=highlight><pre><span></span><code>git clone git@github.com:cloud-native-toolkit/ibm-garage-iteration-zero.git
<span class=nb>cd</span> ibm-garage-iteration-zero
</code></pre></div> <h4 id=ii-log-in-to-ibm-cloud-using-the-ibm-cloud-cli_1>ii. Log in to IBM Cloud using the IBM Cloud CLI<a class=headerlink href=#ii-log-in-to-ibm-cloud-using-the-ibm-cloud-cli_1 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>ibmcloud login -a cloud.ibm.com -r &lt;region&gt;
</code></pre></div> <h3 id=b-upgrade-the-image-registry>B. Upgrade the image registry<a class=headerlink href=#b-upgrade-the-image-registry title="Permanent link">&para;</a></h3> <p>Upgrade the service plan for the <a href=../../best-practices/registry/ >image registry</a> so that is has unlimited capacity for images.</p> <div class=highlight><pre><span></span><code>ibmcloud cr plan-upgrade standard
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The steps below need to be repeated for each new environment:</p> <ul> <li>Each environment needs its own resource group and pair of access groups for administrators and users.</li> <li>Each environment will need its own cluster, whether it's created by an account manager or an environment administrator.</li> </ul> </div> <h3 id=c-create-the-resource-group>C. Create the resource group<a class=headerlink href=#c-create-the-resource-group title="Permanent link">&para;</a></h3> <p><a href=https://cloud.ibm.com/account/resource-groups>Create or provide a resource group</a>. The resource group should be given a name that clearly identifies the purpose and usage of the collection of resources, such as the development team, the project, the environment, and/or the application(s) implemented. For example, we give our resource groups names like <code>mooc-team-one</code>, <code>garage-dev-tools</code>, <code>cntk-showcase</code>, etc.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>The resource group name should be 24 characters or fewer, and should conform to <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>Kubernetes resource naming conventions</a> - the name should be all lowercase letters, digits, and the separators should be dashes. (Unless otherwise specified, the installation scripts will name the cluster <code>&lt;resource-group&gt;-cluster</code>and a cluster name is limited to 32 characters.)</p> </div> <h3 id=d-create-an-ibm-cloud-api-key>D. Create an IBM Cloud API Key<a class=headerlink href=#d-create-an-ibm-cloud-api-key title="Permanent link">&para;</a></h3> <p>An API Key is used to authenticate to the IBM Cloud APIs. It is specific to a user within a particular account, meaning you need a different API key for each account you will be accessing.</p> <p><strong>Note:</strong> If you will be using classic infrastructure and/or multiple <code>account mangers</code> follow these instructions instead to create a <a href=../../best-practices/ibm-cloud-account/plan-installation/#functional-id-for-infrastructure-permissions target=_blank>functional ID</a> for the account.</p> <p><a href="https://cloud.ibm.com/docs/account?topic=account-userapikey">Create an API key</a> and download each key to a file. Be sure to include a descriptive name of the APIKey.</p> <h3 id=e-attach-the-ibm-cloud-api-key-to-the-resource-group>E. Attach the IBM Cloud API Key to the resource group<a class=headerlink href=#e-attach-the-ibm-cloud-api-key-to-the-resource-group title="Permanent link">&para;</a></h3> <p>To create resources in the resource group, the account will need API keys for the container service to <a href="https://cloud.ibm.com/docs/containers?topic=containers-access_reference#infra">create resources in the classic infrastructure</a>. The API key is needed for each region and resource group. Use the API key from the previous step for these steps:</p> <ol> <li> <p>Log into the IBM Cloud CLI <a href="https://cloud.ibm.com/docs/account?topic=account-federated_id">using the functional ID key</a> created by the account owner</p> <div class=highlight><pre><span></span><code>ibmcloud login --apikey @key_file_name
</code></pre></div> </li> <li> <p>Reset the API key for a given region for the container service: <a href="https://cloud.ibm.com/docs/containers?topic=containers-users#api_key">Setting up the API key to enable access to the infrastructure portfolio</a></p> <div class=highlight><pre><span></span><code>ibmcloud ks api-key reset --region &lt;region&gt;
</code></pre></div> </li> <li> <p>The <a href=https://cloud.ibm.com/iam/apikeys>list of existing API keys</a> shows the new key named <code>containers-kubernetes-key</code>; the description specifies the resource group and region</p> </li> </ol> <h3 id=f-create-access-groups-for-the-resource-group>F. Create access groups for the resource group<a class=headerlink href=#f-create-access-groups-for-the-resource-group title="Permanent link">&para;</a></h3> <p>For each resource group, create an access group for <code>environment administrators</code> and <code>environment users</code>. The access group can be configured manually or with a script provided in the <code>ibm-cloud-iteration-zero</code> repository.</p> <h4 id=i-create-the-access-group-for-environment-administrators>i. Create the access group for environment administrators<a class=headerlink href=#i-create-the-access-group-for-environment-administrators title="Permanent link">&para;</a></h4> <ol> <li>Create a new <a href="https://cloud.ibm.com/docs/account?topic=account-groups">access group</a> named something like <code>&lt;resource_group&gt;-ADMIN</code> (use all capital letters)</li> <li> <p>Run the script <code>./terraform/scripts/acp-admin.sh</code> from the <code>ibm-garage-iteration-zero</code> repository to add the necessary policies to the access group</p> <div class=highlight><pre><span></span><code>./terraform/scripts/acp-admin.sh <span class=o>{</span>ACCESS_GROUP<span class=o>}</span> <span class=o>{</span>resource group<span class=o>}</span>
</code></pre></div> </li> <li> <p>Add the environment administrator(s) to the group</p> </li> </ol> <p>The script adds policies that allow the user to add resources to the resource group:</p> <ul> <li>Permission to create clusters</li> <li>Permission to manage the IBM Cloud Container Registry (used as the environment's <a href=../../best-practices/registry/ >image registry</a>)</li> <li>Permission to create service instances</li> </ul> <h4 id=ii-create-the-access-group-for-environment-users>ii. Create the access group for environment users<a class=headerlink href=#ii-create-the-access-group-for-environment-users title="Permanent link">&para;</a></h4> <ol> <li>Create a new <a href="https://cloud.ibm.com/docs/account?topic=account-groups">access group</a> named something like <code>&lt;resource_group&gt;-USER</code> (use all capital letters)</li> <li> <p>Run the script <code>./terraform/scripts/acp-user.sh</code> from the <code>ibm-garage-iteration-zero</code> repository to add the necessary policies to the access group</p> <div class=highlight><pre><span></span><code>./terraform/scripts/acp-user.sh <span class=o>{</span>ACCESS_GROUP<span class=o>}</span> <span class=o>{</span>resource group<span class=o>}</span>
</code></pre></div> </li> <li> <p>Add the users to the group</p> </li> </ol> <p>The script adds policies that allow the user to use resources to the resource group:</p> <ul> <li>Access to the resource group</li> <li>Access to the cluster</li> <li>Access to the image registry</li> <li>Access to each of the services in the resource group</li> </ul> <h2 id=3-create-the-private-catalog>3. Create the Private Catalog<a class=headerlink href=#3-create-the-private-catalog title="Permanent link">&para;</a></h2> <h3 id=a-create-the-catalog>A. Create the catalog<a class=headerlink href=#a-create-the-catalog title="Permanent link">&para;</a></h3> <ol> <li>Log in to the IBM Cloud Console</li> <li>Click <strong>Manage-&gt;Catalogs</strong> from the top menu</li> <li>Click on <strong>Create Catalog</strong></li> <li>In the <code>Create a catalog</code> dialog, provide the following values:</li> <li><strong>name:</strong> the name of the catalog, for example <code>Team Catalog</code></li> <li><strong>description:</strong> (optional) a brief description of the purpose of the catalog</li> <li><strong>products:</strong> select <strong>Start with no products</strong></li> <li><strong>resource group:</strong> click <strong>Update</strong> to change the default resource group for the catalog</li> <li>Click <strong>Create</strong> to complete the catalog creation</li> </ol> <h3 id=b-register-the-cloud-native-toolkit-tiles-in-the-catalog>B. Register the Cloud-Native Toolkit tiles in the catalog<a class=headerlink href=#b-register-the-cloud-native-toolkit-tiles-in-the-catalog title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The following instructions depend on the <a href=https://stedolan.github.io/jq/ target=_blank><code>jq</code></a> command, which is installed as part of the <a href=../../../learning/dev-setup/#install-the-cloud-native-toolkit-command-line-interface-cli target=_blank>Cloud-Native Toolkit CLI</a></p> </div> <ol> <li> <p>Download <code>create-catalog-offering.sh</code> from the <a href target=_blank title=https://github.com/cloud-native-toolkit/ibm-garage-iteration-zero/releases/latest>latest Iteration Zero release</a> and make the file executable</p> <div class=highlight><pre><span></span><code><span class=nv>LATEST_RELEASE</span><span class=o>=</span><span class=k>$(</span>curl -sL https://api.github.com/repos/cloud-native-toolkit/ibm-garage-iteration-zero/releases/latest <span class=p>|</span> jq -r <span class=s1>&#39;.tag_name&#39;</span><span class=k>)</span>
curl -OL <span class=s2>&quot;https://github.com/cloud-native-toolkit/ibm-garage-iteration-zero/releases/download/</span><span class=si>${</span><span class=nv>LATEST_RELEASE</span><span class=si>}</span><span class=s2>/create-catalog-offering.sh&quot;</span>
chmod +x create-catalog-offering.sh
</code></pre></div> </li> <li> <p>Run the <code>create-catalog-offering.sh</code> scripts passing in the API Key and the name of the catalog that you created in the previous step</p> <div class=highlight><pre><span></span><code>./create-catalog-offering.sh <span class=o>{</span>API_KEY<span class=o>}</span> <span class=s2>&quot;Team Catalog&quot;</span>
</code></pre></div> </li> </ol> <h2 id=4-optional-set-up-classic-infrastructure>4. (Optional) Set up Classic Infrastructure<a class=headerlink href=#4-optional-set-up-classic-infrastructure title="Permanent link">&para;</a></h2> <p>Virtual Private Cloud infrastructure is recommended for use with clusters as it easier to manage with IAM and provides a superior environment. However, there are some situations where classic infrastructure is still required, particularly when using Cloud Paks due to some current storage limitations with the VPC infrastructure. When classic infrastructure will be used then the following additional configuration is required.</p> <p>For a more in depth look at the differences between Classic and Virtual Private Cloud infrastructure, please refer the the <a href="https://cloud.ibm.com/docs/cloud-infrastructure?topic=cloud-infrastructure-compare-infrastructure" target=_blank>IBM Cloud documentation</a></p> <h3 id=a-create-a-functional-id-for-classic-infrastructure-permissions>A. Create a functional ID for Classic Infrastructure permissions<a class=headerlink href=#a-create-a-functional-id-for-classic-infrastructure-permissions title="Permanent link">&para;</a></h3> <p>Account managers need the permissions to create and manage IaaS resources required by a environment. Permissions for classic infrastructure (formerly known as SoftLayer) cannot be added to an access group, only to a user. Rather than add these permissions to each account manager, create a <a href="https://cloud.ibm.com/docs/iam?topic=iam-manapikey#ibm-cloud-api-keys">functional ID</a> and grant it the infrastructure permissions.</p> <p>The functional ID will <a href="https://cloud.ibm.com/docs/containers?topic=containers-users#api_key_most_cases">own the API keys</a> that the Kubernetes service needs to create clusters. As account managers are added to and removed from the account, the functional ID will always remain and always have the necessary infrastructure permissions.</p> <h4 id=i-set-up-the-functional-id-in-the-account>i. Set up the functional ID in the account<a class=headerlink href=#i-set-up-the-functional-id-in-the-account title="Permanent link">&para;</a></h4> <ol> <li>Create the email account for the functional ID, sign it up for an IBM Cloud account, and <a href="https://cloud.ibm.com/docs/iam?topic=iam-iamuserinv">invite the functional ID</a> to this account.</li> <li> <p>Run the script <code>./terraform/scripts/acp-iaas.sh</code> from the <code>ibm-garage-iteration-zero</code> repository to grant the necessary permissions to the functional ID user.</p> <div class=highlight><pre><span></span><code>./terraform/scripts/acp-iaas.sh <span class=o>{</span>functional-id<span class=o>}</span>
</code></pre></div> </li> </ol> <p>The script adds the <a href="https://cloud.ibm.com/docs/containers?topic=containers-access_reference#infra">classic infrastructure permissions</a> needed to create and manage clusters:</p> <ul> <li>Create VLANs</li> <li>Create Kubernetes Service clusters (e.g. create virtual servers, storage, and networking)</li> <li>Manage Kubernetes Service clusters (e.g. add nodes)</li> </ul> <p>The script also adds the IAM permissions to:</p> <ul> <li>Run the command to reset the API key that the Kubernetes service will use</li> </ul> <p>By granting these infrastructure permissions to the functional ID and using it to create API keys, the account managers and environment administrators can create Kubernetes and OpenShift clusters without needing infrastructure permissions.</p> <h4 id=ii-create-api-keys-for-the-functional-id>ii. Create API keys for the functional ID<a class=headerlink href=#ii-create-api-keys-for-the-functional-id title="Permanent link">&para;</a></h4> <p>Each account manager will need to use an API Key owned by functional ID's to have the necessary permissions to provision the classic infrastructure for the cluster. For security reasons, each account manager needs their own API key for the functional ID's account.</p> <ol> <li>Log into IBM Cloud as the functional ID (not as the account owner) and switch to the appropriate account.</li> <li>For each account manager, <a href="https://cloud.ibm.com/docs/account?topic=account-userapikey">create an API key</a> and download each key to a file. Be sure to include the account manager's name in the name/description of the APIKey.</li> <li>Give each account manager their API key file for the functional ID</li> </ol> <p>Users should not share these API key files with each other. When a user is no longer an account manager, remove them from the access group and delete their API key.</p> <h3 id=b-public-and-private-vlans>B. Public and private VLANs<a class=headerlink href=#b-public-and-private-vlans title="Permanent link">&para;</a></h3> <p>Create or provide a pair of public and private VLANs for the selected region and zone. These VLANs will implement the public and private networks in the Kubernetes or OpenShift cluster. Use following to find the available <a href="https://cloud.ibm.com/docs/overview?topic=overview-zero-downtime#ov_intro_reg" title="Locations for resource deployment">IBM Cloud locations</a> and the available <a href="https://cloud.ibm.com/docs/overview?topic=overview-zero-downtime#data_center">data centers</a> in each region, such as <em>dal10</em> or <em>lon02</em></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If your account already has a pair of VLANs for your desired region and zone, you can use those.</p> </div> <h4 id=create-and-manage-vlans>Create and manage vlans<a class=headerlink href=#create-and-manage-vlans title="Permanent link">&para;</a></h4> <p>Visit the <a href=https://cloud.ibm.com/classic/network/vlans>VLANs</a> page to list and manage the VLANs. Select <code>Order VLAN</code> to create a new public or private VLAN for use with the cluster.</p> <h4 id=list-the-available-vlans>List the available vlans<a class=headerlink href=#list-the-available-vlans title="Permanent link">&para;</a></h4> <p>Use the <a href=../../../reference/cli/ >IGC CLI</a>'s <code>igc vlan</code> command to select two existing VLANs and generate the properties to use for the installation scripts</p> <div class=highlight><pre><span></span><code>igc vlan
</code></pre></div> <p>These links help explain how to find the VLANs an account has, create more, and how a cluster uses them to implement its network:</p> <ul> <li><a href=https://cloud.ibm.com/docs/infrastructure/vlans>Getting started with VLANs</a></li> <li><a href="https://cloud.ibm.com/docs/containers?topic=containers-plan_clusters#plan_basics">Understanding network basics of classic clusters</a></li> <li><a href="https://cloud.ibm.com/docs/containers?topic=containers-subnets#basics">Overview of classic networking in IBM Cloud Kubernetes Service</a></li> <li>List and create VLANs: <a href=https://cloud.ibm.com/classic/network/vlans>Resources &gt; Classic Infrastructure &gt; IP Management &gt; VLANs</a></li> </ul> <h2 id=next-steps>Next steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h2> <p>With these steps completed, the account manager will have configured the account so that the environment administrator can install the environment. As you move into the next step of installing into the environment that has just been prepared, be sure to record the following information:</p> <ul> <li>IBM Cloud API key</li> <li>Resource group name</li> <li>Region</li> <li>Data center (classic infrastructure only)</li> <li>Private VLAN id (classic infrastructure only)</li> <li>Public VLAN id (classic infrastructure only)</li> </ul> <p>Please now select which installation method to use:</p> <ul> <li><a href=../ibmcloud-tile-cluster/ >Catalog tile</a></li> <li><a href=../ibmcloud-iz-cluster/ >Iteration Zero scripts</a></li> </ul> </article> </div> </div> </main> <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-column> <div class=md-footer-text><a href=https://cloudnativetoolkit.dev/contribute/contribute.html>Contribute</a> to the Cloud-Native Toolkit</div> <div class=md-footer-text>Site licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ >CC BY-NC-SA 4.0</a></div> </div> <div class=md-footer-column> <div class=md-footer-text>Have questions? open an issue on <a href=https://github.com/cloud-native-toolkit/planning/issues/new/choose>GitHub</a>.</div> <!-- Copyright and theme information --> <div class=md-footer-text> Copyright  2021 Cloud-Native Toolkit </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.76f349be.min.js></script> </body> </html>