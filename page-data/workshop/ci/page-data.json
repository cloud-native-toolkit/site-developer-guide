{"componentChunkName":"component---src-pages-workshop-ci-index-mdx","path":"/workshop/ci/","result":{"pageContext":{"frontmatter":{"title":"Workshop - Deploy an Application using CI Pipelines with Tekton"},"relativePagePath":"/workshop/ci/index.mdx","titleType":"page","MdxNode":{"id":"06464ebb-bbfa-5cec-a841-ee42da1fa078","children":[],"parent":"2ce9bc2b-375a-56e2-b75e-b873d246be8a","internal":{"content":"---\ntitle: Workshop - Deploy an Application using CI Pipelines with Tekton\n---\n\nimport Globals from 'gatsby-theme-carbon/src/templates/Globals';\n\n<PageDescription>\n\nDeploy an Application using CI Pipelines with Tekton\n\n</PageDescription>\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/V-BFLaPdoPo\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n1. Prerequisites\n    - The instructor should [Setup Workshop Environment](/workshop/setup#3.-setup-ibm-cloud-native-toolkit-workshop)\n    - The student should [Setup CLI and Terminal Shell](/workshop/setup#4-setup-cli-and-terminal-shell)\n\n1. Instructor will provide the following info:\n    - OpenShift Console URL (OCP_CONSOLE_URL)\n    - The username and password for OpenShift and Git Server (default values are user1, user2, etc.. for users and `password` for password).\n\n1. Set `TOOLKIT_USERNAME` environment variable replace `user1` or `userx` with assigned usernames\n    ```bash\n    TOOLKIT_USERNAME=user1\n\n    ```\n\n1. **(Skip if using KubeAdmin or IBM Cloud)** Login into OpenShift using `oc`\n    - If using IBM Cloud cluster then login with your IBM account email and IAM API Key or Token, if using a cluster that was configured with the workshop scripts outside IBM Cloud then use `user1` or respective assigned username, and the password is `password`\n    ```bash\n    oc login $OCP_URL -u $TOOLKIT_USERNAME -p password\n    ```\n\n1. Set `TOOLKIT_PROJECT` environment variable replace `project1` or `projectx` based on username id assigned\n    ```bash\n    TOOLKIT_PROJECT=project1\n\n    ```\n\n1. Create a project/namespace using your project as prefix, and `-dev` and suffix\n    ```bash\n    oc sync $TOOLKIT_PROJECT-dev\n\n    ```\n\n1. Fork application template git repo\n    - Open Developer Dashboard from the OpenShift Console\n    - Select Starter Kits\n    - Select One in our case **Go Gin Microservice**\n    - Click Fork\n    - Login into GIT Sever using the provided username and password (ie `user1` and `password`)\n    - **IMPORTANT**: Rename Repository Name to `app`\n    - Click **Fork Repository**\n\n1. Setup environment variable `GIT_URL` for the git url using the value from previous step or as following\n    ```bash\n    GIT_URL=http://${TOOLKIT_USERNAME}:password@$(oc get route -n tools gogs --template='{{.spec.host}}')/$TOOLKIT_USERNAME/app\n    echo GIT_URL=${GIT_URL}\n\n    ```\n\n1. Clone the git repository and change directory\n    ```bash\n    cd $HOME\n    git clone $GIT_URL\n    cd app\n\n    ```\n\n1. Create a pipeline for the application\n    ```bash\n    oc pipeline --tekton\n    ```\n    - Use down/up arrow and select `ibm-golang`\n    - Hit Enter to enable image scanning\n    - Open the url to see the pipeline running in the OpenShift Console\n\n1. Verify that Pipeline Run completed successfully\n\n1. Review the Pipeline Tasks/Stages\n    - Test\n    - Open SonarQube from Console Link\n    - Open Registry from Console Link\n    - Open Artifactory from Console Link\n\n1. Select **Developer** perspective, select project `$TOOLKIT_PROJECT-qa` and then select **Topology** from the Console and verify the application running\n\n1. Open the application route url and try out the application using the swagger UI\n\n1. Make a change to the application in the git repository and see the pipeline running again from the Console.\n    ```bash\n    git config --local user.email \"${TOOLKIT_USERNAME}@example.com\"\n    git config --local user.name \"${TOOLKIT_USERNAME}\"\n    echo \"A change to trigger a new PipelineRun $(date)\" >> README.md\n    git add .\n    git commit -m \"update readme\"\n    git push -u origin master\n\n    ```\n\n1. Verify that change in Git Server and Git WebHook\n    - Open Git Dev from Console Link\n    - Navigate to user app git repository\n    - Review the recent commit\n    - Review the webhook recent delivery\n\n1. Verify that a new Pipeline starts successfully\n\n1. Verify that the App manifests are being updated in the `gitops` repo in the git account `toolkit` under the `qa` directory.\n    - Open Git Ops from Console Link\n    - Select toolkit/gitops git repository\n\n1. Congratulations you finished this lab, continue with lab [Promote an Application using CD with GitOps and ArgoCD](./cd)\n\n\n\n\n","type":"Mdx","contentDigest":"aa9ca76910fbe318f9b77f97d3868c1c","counter":1062,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Workshop - Deploy an Application using CI Pipelines with Tekton"},"exports":{},"rawBody":"---\ntitle: Workshop - Deploy an Application using CI Pipelines with Tekton\n---\n\nimport Globals from 'gatsby-theme-carbon/src/templates/Globals';\n\n<PageDescription>\n\nDeploy an Application using CI Pipelines with Tekton\n\n</PageDescription>\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/V-BFLaPdoPo\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n1. Prerequisites\n    - The instructor should [Setup Workshop Environment](/workshop/setup#3.-setup-ibm-cloud-native-toolkit-workshop)\n    - The student should [Setup CLI and Terminal Shell](/workshop/setup#4-setup-cli-and-terminal-shell)\n\n1. Instructor will provide the following info:\n    - OpenShift Console URL (OCP_CONSOLE_URL)\n    - The username and password for OpenShift and Git Server (default values are user1, user2, etc.. for users and `password` for password).\n\n1. Set `TOOLKIT_USERNAME` environment variable replace `user1` or `userx` with assigned usernames\n    ```bash\n    TOOLKIT_USERNAME=user1\n\n    ```\n\n1. **(Skip if using KubeAdmin or IBM Cloud)** Login into OpenShift using `oc`\n    - If using IBM Cloud cluster then login with your IBM account email and IAM API Key or Token, if using a cluster that was configured with the workshop scripts outside IBM Cloud then use `user1` or respective assigned username, and the password is `password`\n    ```bash\n    oc login $OCP_URL -u $TOOLKIT_USERNAME -p password\n    ```\n\n1. Set `TOOLKIT_PROJECT` environment variable replace `project1` or `projectx` based on username id assigned\n    ```bash\n    TOOLKIT_PROJECT=project1\n\n    ```\n\n1. Create a project/namespace using your project as prefix, and `-dev` and suffix\n    ```bash\n    oc sync $TOOLKIT_PROJECT-dev\n\n    ```\n\n1. Fork application template git repo\n    - Open Developer Dashboard from the OpenShift Console\n    - Select Starter Kits\n    - Select One in our case **Go Gin Microservice**\n    - Click Fork\n    - Login into GIT Sever using the provided username and password (ie `user1` and `password`)\n    - **IMPORTANT**: Rename Repository Name to `app`\n    - Click **Fork Repository**\n\n1. Setup environment variable `GIT_URL` for the git url using the value from previous step or as following\n    ```bash\n    GIT_URL=http://${TOOLKIT_USERNAME}:password@$(oc get route -n tools gogs --template='{{.spec.host}}')/$TOOLKIT_USERNAME/app\n    echo GIT_URL=${GIT_URL}\n\n    ```\n\n1. Clone the git repository and change directory\n    ```bash\n    cd $HOME\n    git clone $GIT_URL\n    cd app\n\n    ```\n\n1. Create a pipeline for the application\n    ```bash\n    oc pipeline --tekton\n    ```\n    - Use down/up arrow and select `ibm-golang`\n    - Hit Enter to enable image scanning\n    - Open the url to see the pipeline running in the OpenShift Console\n\n1. Verify that Pipeline Run completed successfully\n\n1. Review the Pipeline Tasks/Stages\n    - Test\n    - Open SonarQube from Console Link\n    - Open Registry from Console Link\n    - Open Artifactory from Console Link\n\n1. Select **Developer** perspective, select project `$TOOLKIT_PROJECT-qa` and then select **Topology** from the Console and verify the application running\n\n1. Open the application route url and try out the application using the swagger UI\n\n1. Make a change to the application in the git repository and see the pipeline running again from the Console.\n    ```bash\n    git config --local user.email \"${TOOLKIT_USERNAME}@example.com\"\n    git config --local user.name \"${TOOLKIT_USERNAME}\"\n    echo \"A change to trigger a new PipelineRun $(date)\" >> README.md\n    git add .\n    git commit -m \"update readme\"\n    git push -u origin master\n\n    ```\n\n1. Verify that change in Git Server and Git WebHook\n    - Open Git Dev from Console Link\n    - Navigate to user app git repository\n    - Review the recent commit\n    - Review the webhook recent delivery\n\n1. Verify that a new Pipeline starts successfully\n\n1. Verify that the App manifests are being updated in the `gitops` repo in the git account `toolkit` under the `qa` directory.\n    - Open Git Ops from Console Link\n    - Select toolkit/gitops git repository\n\n1. Congratulations you finished this lab, continue with lab [Promote an Application using CD with GitOps and ArgoCD](./cd)\n\n\n\n\n","fileAbsolutePath":"/home/runner/work/ibm-garage-developer-guide/ibm-garage-developer-guide/src/pages/workshop/ci/index.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3037994772","3037994772","3273249464","530240012","530240012","768070550"]}