{"version":3,"sources":["webpack:///./src/pages/getting-started-day-0/plan-installation/ibm-cloud.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","kind","isMDXComponent"],"mappings":"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","file":"component---src-pages-getting-started-day-0-plan-installation-ibm-cloud-mdx-38ca217230d8018c731b.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/ibm-garage-developer-guide/ibm-garage-developer-guide/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nimport Globals from 'gatsby-theme-carbon/src/templates/Globals';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`Prepare the `}<Globals name=\"ic\" mdxType=\"Globals\" />{` account for an installation of `}<Globals name=\"shortName\" mdxType=\"Globals\" />{` `}<Globals name=\"env\" mdxType=\"Globals\" /></p>\n    </PageDescription>\n    <h2>{`1. Set up account managers access group`}</h2>\n    <p>{`The `}<strong parentName=\"p\">{`account owner`}</strong>{` creates this access group for account managers and adds the functional ID for managing\nAPI keys. See `}<a parentName=\"p\" {...{\n        \"href\": \"/getting-started-day-0/ibm-cloud-account-management\"\n      }}>{`Plan Installation > Roles`}</a>{` for the overview of\nthe roles involved. An account only needs one of these `}<inlineCode parentName=\"p\">{`account manager`}</inlineCode>{` access groups, which will be used to support all\nenvironments in the account.`}</p>\n    <p>{`In a new account, the account owner is the only user. Even after inviting other users, the account owner is initially\nthe only user with the account management permissions needed to grant those permissions to other users. Therefore, it is\nthe account owner who must create the access group for account managers.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`The video in `}<a parentName=\"p\" {...{\n          \"href\": \"/toolkit-resources/resource-mgmt#configuration-process\"\n        }}>{`Resource Access Management > Configuration Process`}</a>{`\nshows how to perform the steps in this process.`}</p>\n    </InlineNotification>\n    <h3>{`A. Prepare to run scripts`}</h3>\n    <p>{`We’ll use some scripts in the steps below to help create access groups. Before using them, the scripts need to be\ndownloaded and the environment needs to be prepared before running them.`}</p>\n    <h4>{`i. Clone the Iteration Zero git repository`}</h4>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-garage-cloud/ibm-garage-iteration-zero\"\n      }}>{`ibm-garage-iteration-zero`}</a>{` repository contains a\nnumber of scripts that support the administrative tasks. It also has contains the Terraform scripts for installing\nthe `}<Globals name=\"shortName\" mdxType=\"Globals\" />{` `}<Globals name=\"env\" mdxType=\"Globals\" />{`.)`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\",\n        \"metastring\": \"script\",\n        \"script\": true\n      }}>{`git clone git@github.com:ibm-garage-cloud/ibm-garage-iteration-zero.git\ncd ibm-garage-iteration-zero\n`}</code></pre>\n    <h4>{`ii. Log in to `}<Globals name=\"ic\" mdxType=\"Globals\" />{` using the `}<Globals name=\"iccli\" mdxType=\"Globals\" /></h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\",\n        \"metastring\": \"script\",\n        \"script\": true\n      }}>{`ibmcloud login -a cloud.ibm.com -r <region>\n`}</code></pre>\n    <h3>{`B. Create the access group for account managers`}</h3>\n    <p>{`The account owner must create an access group to grant the necessary permissions for managing the account. A script has\nbeen provided to automate the configuration of the policies. `}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note`}</strong>{`: IBM Cloud has multiple `}<a parentName=\"p\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account-services\"\n        }}>{`account management services`}</a>{`,\nin addition to IAM: Billing, License and entitlement, Support center, etc. An easy way to grant access to these\nindividually is to create an access group for administering each: `}<inlineCode parentName=\"p\">{`ACCT-MGR-BILLING-ADMIN`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`ACCT-MGR-LICENSE-ADMIN`}</inlineCode>{`,\n`}<inlineCode parentName=\"p\">{`ACCT-MGR-SUPPORT-ADMIN`}</inlineCode>{`. The group created below only has IAM capabilities, so we suggest `}<inlineCode parentName=\"p\">{`ACCT-MGR-IAM-ADMIN`}</inlineCode>{` for\nits name.`}</p>\n    </InlineNotification>\n    <br />\n    <p>{`To create the access group for the account managers:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Create a new `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account_setup\"\n        }}>{`access group`}</a>{` and name it something like `}<inlineCode parentName=\"li\">{`ACCT-MGR-IAM-ADMIN`}</inlineCode>{` or name it after your account (use all capital letters)`}</li>\n      <li parentName=\"ol\">{`Run `}<inlineCode parentName=\"li\">{`./terraform/scripts/acp-mgr.sh`}</inlineCode>{` from the `}<inlineCode parentName=\"li\">{`ibm-garage-iteration-zero`}</inlineCode>{` repository to add the necessary policies to the access group`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\",\n            \"metastring\": \"script\",\n            \"script\": true\n          }}>{`./terraform/scripts/acp-mgr.sh ACCT-MGR-IAM-ADMIN\n`}</code></pre></li>\n      <li parentName=\"ol\">{`Add the users to the access group`}</li>\n    </ol>\n    <br />\n    <p>{`The `}<inlineCode parentName=\"p\">{`./terraform/scripts/acp-mgr.sh`}</inlineCode>{` script adds policies that allow the user to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create resource groups`}</li>\n      <li parentName=\"ul\">{`Invite users to the account`}</li>\n      <li parentName=\"ul\">{`Create access groups and manage access group membership`}</li>\n      <li parentName=\"ul\">{`Create clusters across all resources groups in the account`}</li>\n      <li parentName=\"ul\">{`Create service instances across all resource groups in the account`}</li>\n      <li parentName=\"ul\">{`Manage the IBM Cloud Container Registry (used as the environment’s `}<a parentName=\"li\" {...{\n          \"href\": \"/tools/image-registry\"\n        }}>{`image registry`}</a>{`)`}</li>\n    </ul>\n    <h2>{`2. Configure the account`}</h2>\n    <p>{`The account must provide a few resources that will be needed to install and use the `}<Globals name=\"shortName\" mdxType=\"Globals\" />{` `}<Globals name=\"env\" mdxType=\"Globals\" />{`:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Upgrade the image registry`}</li>\n      <li parentName=\"ul\">{`Create a resource group`}</li>\n      <li parentName=\"ul\">{`Create a pair of access groups for the admin and users`}</li>\n    </ul>\n    <h3>{`A. Prepare to run scripts`}</h3>\n    <p>{`We’ll use some scripts in the steps below to help create access groups. Before using them, the scripts need to be\ndownloaded and the environment needs to be prepared before running them.`}</p>\n    <h4>{`i. Clone the Iteration Zero git repository`}</h4>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-garage-cloud/ibm-garage-iteration-zero\"\n      }}>{`ibm-garage-iteration-zero`}</a>{` repository contains a\nnumber of scripts that support the administrative tasks. It also has contains the Terraform scripts for installing\nthe `}<Globals name=\"shortName\" mdxType=\"Globals\" />{` `}<Globals name=\"env\" mdxType=\"Globals\" />{`.)`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\",\n        \"metastring\": \"script\",\n        \"script\": true\n      }}>{`git clone git@github.com:ibm-garage-cloud/ibm-garage-iteration-zero.git\ncd ibm-garage-iteration-zero\n`}</code></pre>\n    <h4>{`ii. Log in to `}<Globals name=\"ic\" mdxType=\"Globals\" />{` using the `}<Globals name=\"iccli\" mdxType=\"Globals\" /></h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\",\n        \"metastring\": \"script\",\n        \"script\": true\n      }}>{`ibmcloud login -a cloud.ibm.com -r <region>\n`}</code></pre>\n    <h3>{`B. Upgrade the image registry`}</h3>\n    <p>{`Upgrade the service plan for the `}<a parentName=\"p\" {...{\n        \"href\": \"/tools/image-registry\"\n      }}>{`image registry`}</a>{` so that is has unlimited capacity for images.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\",\n        \"metastring\": \"script\",\n        \"script\": true\n      }}>{`ibmcloud cr plan-upgrade standard\n`}</code></pre>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note`}</strong>{`: The steps below need to be repeated for each new `}<Globals name=\"env\" mdxType=\"Globals\" />{`:`}</p>\n      <ul>\n        <li parentName=\"ul\">{`Each environment needs its own resource group and pair of access groups for administrators and users.`}</li>\n        <li parentName=\"ul\">{`Each environment will need its own cluster, whether it’s created by an account manager or an environment administrator.`}</li>\n      </ul>\n    </InlineNotification>\n    <h3>{`C. Create the resource group`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/account/resource-groups\"\n      }}>{`Create or provide a resource group`}</a>{`. The resource group\nshould be given a name that clearly identifies the purpose and usage of the collection\nof resources, such as the development team, the project, the environment, and/or the application(s) implemented. For\nexample, we give our resource groups names like `}<inlineCode parentName=\"p\">{`mooc-team-one`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`garage-dev-tools`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`cntk-showcase`}</inlineCode>{`, etc.`}</p>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Warning`}</strong>{`: `}<strong parentName=\"p\">{`The resource group name should be 24 characters or fewer, and should conform to\n`}<a parentName=\"strong\" {...{\n            \"href\": \"https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\"\n          }}>{`Kubernetes resource naming conventions`}</a></strong>{`\n— the name should be all lowercase letters, digits, and the separators should be dashes.\n(Unless otherwise specified, the installation scripts will name the cluster `}<inlineCode parentName=\"p\">{`<resource-group>-cluster`}</inlineCode>{`\nand a cluster name is limited to 32 characters.)`}</p>\n    </InlineNotification>\n    <h3>{`C. Create an `}<Globals name=\"ic\" mdxType=\"Globals\" />{` API Key`}</h3>\n    <p>{`An API Key is used to authenticate to the `}<Globals name=\"ic\" mdxType=\"Globals\" />{` APIs. It is specific to a user within a particular\naccount, meaning you need a different API key for each account you will be accessing. `}</p>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` If you will be using classic\ninfrastructure and/or multiple `}<inlineCode parentName=\"p\">{`account mangers`}</inlineCode>{` follow these instructions instead to create a\n`}<a parentName=\"p\" {...{\n        \"href\": \"/admin/plan-installation#create-a-functional-id-for-classic-infrastructure-permissions\"\n      }}>{`functional ID`}</a>{` for the\naccount.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-userapikey#create_user_key\"\n      }}>{`Create an API key`}</a>{` and\ndownload each key to a file. Be sure to include a descriptive name of the APIKey.`}</p>\n    <h3>{`D. Attach the `}<Globals name=\"ic\" mdxType=\"Globals\" />{` API Key to the resource group`}</h3>\n    <p>{`To create resources in the resource group, the account will need API keys for the container service\nto `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-access_reference#infra\"\n      }}>{`create resources in the classic infrastructure`}</a>{`.\nThe API key is needed for each region and resource group. Use the API key from the previous step for these steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Log into the IBM Cloud CLI `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-federated_id#api_key\"\n        }}>{`using the functional ID key`}</a>{` created by the account owner`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\",\n            \"metastring\": \"script\",\n            \"script\": true\n          }}>{`ibmcloud login --apikey @key_file_name\n`}</code></pre></li>\n      <li parentName=\"ol\">{`Reset the API key for a given region for the container service: `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-users#api_key\"\n        }}>{`Setting up the API key to enable access to the infrastructure portfolio`}</a><pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\",\n            \"metastring\": \"script\",\n            \"script\": true\n          }}>{`ibmcloud ks api-key reset --region <region>\n`}</code></pre></li>\n      <li parentName=\"ol\">{`The `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/iam/apikeys\"\n        }}>{`list of existing API keys`}</a>{` shows the new key named `}<inlineCode parentName=\"li\">{`containers-kubernetes-key`}</inlineCode>{`; the description specifies the resource group and region`}</li>\n    </ol>\n    <h3>{`E. Create access groups for the resource group`}</h3>\n    <p>{`For each resource group, create an access group for `}<inlineCode parentName=\"p\">{`environment administrators`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`environment users`}</inlineCode>{`. The access\ngroup can be configured manually or with a script provided in the `}<inlineCode parentName=\"p\">{`ibm-cloud-iteration-zero`}</inlineCode>{` repository.`}</p>\n    <h4>{`i. Create the access group for environment administrators`}</h4>\n    <ol>\n      <li parentName=\"ol\">{`Create a new `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account_setup\"\n        }}>{`access group`}</a>{` named something like `}<inlineCode parentName=\"li\">{`<resource_group>-ADMIN`}</inlineCode>{` (use all capital letters)`}</li>\n      <li parentName=\"ol\">{`Run the script `}<inlineCode parentName=\"li\">{`./terraform/scripts/acp-admin.sh`}</inlineCode>{` from the `}<inlineCode parentName=\"li\">{`ibm-garage-iteration-zero`}</inlineCode>{` repository to add the necessary policies to the access group`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\",\n            \"metastring\": \"script\",\n            \"script\": true\n          }}>{`./terraform/scripts/acp-admin.sh {ACCESS_GROUP} {resource group}\n`}</code></pre></li>\n      <li parentName=\"ol\">{`Add the environment administrator(s) to the group`}</li>\n    </ol>\n    <br />\n    <p>{`The script adds policies that allow the user to add resources to the resource group:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Permission to create clusters`}</li>\n      <li parentName=\"ul\">{`Permission to manage the IBM Cloud Container Registry (used as the environment’s `}<a parentName=\"li\" {...{\n          \"href\": \"/tools/image-registry\"\n        }}>{`image registry`}</a>{`)`}</li>\n      <li parentName=\"ul\">{`Permission to create service instances`}</li>\n    </ul>\n    <h4>{`ii. Create the access group for environment users`}</h4>\n    <ol>\n      <li parentName=\"ol\">{`Create a new `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account_setup\"\n        }}>{`access group`}</a>{` named something like `}<inlineCode parentName=\"li\">{`<resource_group>-USER`}</inlineCode>{` (use all capital letters)`}</li>\n      <li parentName=\"ol\">{`Run the script `}<inlineCode parentName=\"li\">{`./terraform/scripts/acp-user.sh`}</inlineCode>{` from the `}<inlineCode parentName=\"li\">{`ibm-garage-iteration-zero`}</inlineCode>{` repository to add the necessary policies to the access group`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\",\n            \"metastring\": \"script\",\n            \"script\": true\n          }}>{`./terraform/scripts/acp-admin.sh {ACCESS_GROUP} {resource group}\n`}</code></pre></li>\n      <li parentName=\"ol\">{`Add the users to the group`}</li>\n    </ol>\n    <br />\n    <p>{`The script adds policies that allow the user to use resources to the resource group:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Access to the resource group`}</li>\n      <li parentName=\"ul\">{`Access to the cluster`}</li>\n      <li parentName=\"ul\">{`Access to the image registry`}</li>\n      <li parentName=\"ul\">{`Access to each of the services in the resource group`}</li>\n    </ul>\n    <h3>{`F. (Optional) Create the cluster`}</h3>\n    <p>{`The Toolkit install scripts can provision a cluster during the install process. However, if the user running the\ninstall scripts doesn’t have permission to create the cluster or if you just want to separate the process of provisioning\nthe cluster and installing the tools then the cluster can be created in advance.`}</p>\n    <p>{`The process supports either a Kubernetes cluster or Red Hat OpenShift cluster. A typical cluster has 3 nodes, each\nwith 8 vCPUs and 32GB RAM.`}</p>\n    <h2>{`3. (Optional) Set up Classic Infrastructure`}</h2>\n    <p>{`Virtual Private Cloud infrastructure is recommended for use with clusters as it easier to manage with IAM and provides\na superior environment. However, there are some situations where classic infrastructure is still required, particularly\nCloud Paks. When classic infrastructure will be used then the following additional configuration is required.`}</p>\n    <h3>{`A. Create a functional ID for Classic Infrastructure permissions`}</h3>\n    <p>{`Account managers need the permissions to create and manage IaaS resources required by a `}<Globals name=\"env\" mdxType=\"Globals\" />{`.\nPermissions for classic infrastructure (formerly known as SoftLayer) cannot be added to an access group, only to a user. Rather than\nadd these permissions to each account manager, create a `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-manapikey#ibm-cloud-api-keys\"\n      }}>{`functional ID`}</a>{`\nand grant it the infrastructure permissions. `}</p>\n    <p>{`The functional ID will `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-users#api_key_most_cases\"\n      }}>{`own the API keys`}</a>{`\nthat the Kubernetes service needs to create clusters. As account managers are added to and removed from the account, the\nfunctional ID will always remain and always have the necessary infrastructure permissions.`}</p>\n    <h4>{`i. Set up the functional ID in the account`}</h4>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create the email account for the functional ID, sign it up for an IBM Cloud account, and `}<a parentName=\"p\" {...{\n            \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-iamuserinv\"\n          }}>{`invite the functional ID`}</a>{` to this account.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the script `}<inlineCode parentName=\"p\">{`./terraform/scripts/acp-iaas.sh`}</inlineCode>{` from the `}<inlineCode parentName=\"p\">{`ibm-garage-iteration-zero`}</inlineCode>{` repository to grant the necessary permissions to the functional ID user.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\",\n            \"metastring\": \"script\",\n            \"script\": true\n          }}>{`./terraform/scripts/acp-iaas.sh {functional-id}\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`The script adds the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-access_reference#infra\"\n      }}>{`classic infrastructure permissions`}</a>{`\nneeded to create and manage clusters:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create VLANs`}</li>\n      <li parentName=\"ul\">{`Create Kubernetes Service clusters (e.g. create virtual servers, storage, and networking)`}</li>\n      <li parentName=\"ul\">{`Manage Kubernetes Service clusters (e.g. add nodes)`}</li>\n    </ul>\n    <br />\n    <p>{`The script also adds the IAM permissions to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Run the command to reset the API key that the Kubernetes service will use`}</li>\n    </ul>\n    <br />\n    <p>{`By granting these infrastructure permissions to the functional ID and using it to create API keys, the account managers\nand environment administrators can create Kubernetes and OpenShift clusters without needing infrastructure permissions.`}</p>\n    <h4>{`ii. Create API keys for the functional ID`}</h4>\n    <p>{`Each account manager will need to use an API Key owned by functional ID’s to have the necessary permissions to provision\nthe classic infrastructure for the cluster. For security reasons, each account manager needs their own API key for the\nfunctional ID’s account.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Log into IBM Cloud as the functional ID (not as the account owner) and switch to the appropriate account.`}</li>\n      <li parentName=\"ol\">{`For each account manager, `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-userapikey#create_user_key\"\n        }}>{`create an API key`}</a>{` and\ndownload each key to a file. Be sure to include the account manager’s name in the name/description of the APIKey.`}</li>\n      <li parentName=\"ol\">{`Give each account manager their API key file for the functional ID`}</li>\n    </ol>\n    <br />\n    <p>{`Users should not share these API key files with each other. When a user is no longer an account manager, remove them\nfrom the access group and delete their API key.`}</p>\n    <h3>{`B. Public and private VLANs`}</h3>\n    <p>{`Create or provide a pair of public and private VLANs for the selected region and zone. These VLANs will implement the\npublic and private networks in the Kubernetes or OpenShift cluster. Use following to find the available\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/overview?topic=overview-zero-downtime#ov_intro_reg\",\n        \"title\": \"Locations for resource deployment\"\n      }}><Globals name=\"ic\" mdxType=\"Globals\" />{` locations`}</a>{`\nand the available `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/overview?topic=overview-zero-downtime#data_center\"\n      }}>{`data centers`}</a>{`\nin each region, such as `}<em parentName=\"p\">{`dal10`}</em>{` or `}<em parentName=\"p\">{`lon02`}</em></p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Note: If your account already has a pair of VLANs for your desired region and zone, you can use those.`}</p>\n    </InlineNotification>\n    <h4>{`Create and manage vlans`}</h4>\n    <p>{`Visit the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/classic/network/vlans\"\n      }}>{`VLANs`}</a>{` page to list and manage the VLANs. Select `}<inlineCode parentName=\"p\">{`Order VLAN`}</inlineCode>{` to\ncreate a new public or private VLAN for use with the cluster.`}</p>\n    <h4>{`List the available vlans`}</h4>\n    <p>{`Use the `}<a parentName=\"p\" {...{\n        \"href\": \"/getting-started/cli\"\n      }}>{`IGC CLI`}</a>{`’s `}<inlineCode parentName=\"p\">{`igc vlan`}</inlineCode>{` command to select two existing VLANs and generate the properties\nto use for the installation scripts`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\",\n        \"metastring\": \"script\",\n        \"script\": true\n      }}>{`igc vlan\n`}</code></pre>\n    <br />\n    <p>{`These links help explain how to find the VLANs an account has, create more, and how a cluster uses them to implement its\nnetwork:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/infrastructure/vlans\"\n        }}>{`Getting started with VLANs`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-plan_clusters#plan_basics\"\n        }}>{`Understanding network basics of classic clusters`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-subnets#basics\"\n        }}>{`Overview of classic networking in IBM Cloud Kubernetes Service`}</a></li>\n      <li parentName=\"ul\">{`List and create VLANs: `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/classic/network/vlans\"\n        }}>{`Resources > Classic Infrastructure > IP Management > VLANs`}</a></li>\n    </ul>\n    <h2>{`Next steps`}</h2>\n    <p>{`With these steps completed, the account manager will have configured the account so that the environment administrator\ncan install the environment. As you move into the next step of installing into the environment that has just been\nprepared, be sure to record the following information:`}</p>\n    <ul>\n      <li parentName=\"ul\"><Globals name=\"ic\" mdxType=\"Globals\" /> API key</li>\n      <li parentName=\"ul\">{`Resource group name`}</li>\n      <li parentName=\"ul\">{`Region`}</li>\n      <li parentName=\"ul\">{`Data center (classic infrastructure only)`}</li>\n      <li parentName=\"ul\">{`Private VLAN id (classic infrastructure only)`}</li>\n      <li parentName=\"ul\">{`Public VLAN id (classic infrastructure only)`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}