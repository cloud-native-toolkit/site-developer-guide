{"version":3,"sources":["webpack:///./src/pages/admin/plan-installation/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-admin-plan-installation-index-mdx-169a1dc4f0272b1874ad.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/ibm-garage-developer-guide/ibm-garage-developer-guide/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nimport Globals from 'gatsby-theme-carbon/src/templates/Globals';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`Overall process for installing a `}<Globals name=\"env\" mdxType=\"Globals\" /></p>\n    </PageDescription>\n    <h2>{`Background`}</h2>\n    <p>{`To understand how the process is performed, keep these concepts in mind.`}</p>\n    <h3>{`Roles`}</h3>\n    <p>{`A `}<Globals name=\"env\" mdxType=\"Globals\" />{` is installed and used by users acting in four roles:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Account owner`}</strong>{`: The user who owns the account`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Account managers`}</strong>{`: Account owner or other users with `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account-services\"\n        }}>{`account management permissions`}</a></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Environment administrators`}</strong>{`: Users in the account with `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-userroles#platformroles\"\n        }}>{`permissions to create services in the environment’s resource group`}</a></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Environment users`}</strong>{`: Users in the account with `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-userroles#service_access_roles\"\n        }}>{`permissions to use existing services in the environment’s resource group`}</a>{` (e.g. developers, data scientists, etc.)`}</li>\n    </ul>\n    <p>{`The account owner must create the access group for account managers (see below). The account owner will:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create an `}<inlineCode parentName=\"li\">{`ACCT-MGR-IAM-ADMIN`}</inlineCode>{` access group using the `}<inlineCode parentName=\"li\">{`acp-mgr`}</inlineCode>{` script`}</li>\n      <li parentName=\"ul\">{`Add a functional ID, configured using the `}<inlineCode parentName=\"li\">{`acp-iaas`}</inlineCode>{` script, with API keys for the account managers`}</li>\n    </ul>\n    <p>{`Then, as described in `}<a parentName=\"p\" {...{\n        \"href\": \"/admin/config-account\"\n      }}>{`Configure Account`}</a>{`, the account managers can set up the resource groups and access groups needed to install and use the environments. For each environment, the account managers will:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create a resource group`}</li>\n      <li parentName=\"ul\">{`Create an access group named `}<inlineCode parentName=\"li\">{`<resource_group>-ADMIN`}</inlineCode>{` using the script `}<inlineCode parentName=\"li\">{`acp-admin`}</inlineCode></li>\n      <li parentName=\"ul\">{`Create an access group named `}<inlineCode parentName=\"li\">{`<resource_group>-USER`}</inlineCode>{` using the script `}<inlineCode parentName=\"li\">{`acp-user`}</inlineCode></li>\n    </ul>\n    <p>{`This diagram from `}<a parentName=\"p\" {...{\n        \"href\": \"http://localhost:8000/toolkit-resources/resource-mgmt#access-group-example\"\n      }}>{`Resource Access Management`}</a>{` shows the relationship of these access groups to a pair of development environments:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"89.58333333333334%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAEWklEQVQ4y4VSa0wUVxS+wKZBMbwSW1vTFtNImlhiGkj7yxZoTBNbjTz6QAwWKGqDLyTQpl1EXtZYa0xUShqwpWjESkpbaqMoLRR5CUFBHu5jZmef7LKzOzuzOzM7uzuc3lmW2LQ1nuRk7pxv5tzvO99BABCFcNDB5eeOhsnENwoOZm/NyXp5Z2nRxnd2v5+6p7I85eOayudyDhSvyztU+pgsWZd7aO8zKBLRK4f8ms7YtNdQHPqfmPkeRf+Qi6J6jqPonmM4a5ef12pQNDQjdKAE/2cxm9J/af8m226zpEZaqrpvXHvFy3HVWq2ubnr6QSPDeI77/YEsBcWK0OOibF9snPIBsLQD/KI41XquPsz03oO7+Urd7XYDTdPKEfx+f4eCqdXTT6WmQkxcPKi2Z4IKX6F6fQuoEp6GqOJizNAvBRqNTrbBJ4j7IrdHDY71bXEuLg7q9fp+rVb7h8lkGnc6nRUKODzs2EsZnXMmEz2qJ53jtCs4RjuFaQMpXS4t25OIQl73i6KdUhglLRPfFtPb35NhNFJtGo3mW8ysJRQKdfC8UKig8w/99QpjicfKWIBgKCwALAvcfNXhz5ORwPOnlIIg+ndFRqEaGR98D/4VPM93KuDsNKhnFsbgpq5ZmDIPSD4WRJ8ognXBP/5ZZWUS0lica43sUtpDgoqPMFR1/35lczAgNQQCgTpRFGsxy5Msy20POz0FjebgLNwyNwPBTYK8tHwhS3q1RV/WJyPRRSUMdp/diGurIgyj+od636QMhkmSJO/ihqNer3fO42GrFXBiIvSBiYLbVhN0UyT8arHIP7sZuGEywdldBe8mIs7Lngjf4PXlrUgeGhvIUdzV6XRgMBhAlmVFcit6Quzfj1YjTpBecgtynsvDrl0BRiYGtpIk4SAIwmKz2UyLi4ucJAWaFGxomNsxr3V1agimbV7HfGezhy66XHCZoqCusPDtBCS5bGvsk38+i0nGLrfLiOnp7XrVajGfwZK/EgThFJ7heYZhwgp0856m8NBEPDzGCxCZodns0VUcPZaMJJE/GV6DQPDDf0qW5RDgJiBJ0rLLPt9FBbROudWOhfswqf9N0BGj0hLNiGwwAOZF/7i6/EgSsjmZNBvDlzhc7udXTPlr5HaWHArNyfLSdDAYvI+TxMaoFdAxw9ctyP1w3X4CCL4fQNnDoAwekp0tO92UjDxO0/o7Ny9l4hklPmrY9xZB6CmNRqvDjTQsy9qxSfUKqL3nLacNVqudpOZo0qLx0eI8z4WMDux2QWlREuJ8XGPYZc6XuyL5DpaMjQDcEHR6PeB9xC4LYZfbr8OqtkuQ0NUB8a3tEK8+DfF15yCh5gKsLi5OXoO8grTeJy1lcj5hhSGamOzLpgyEBSdFOx0E46ZdctBf+6S1qf4Ixf6nuPmTW7G7v2jc1PJjZ3pL10/p569cTb/QeTWj6uszm7aVH3whr6IqJb/y0w35R6sfJX7H9Q07Dx9J+RsscCdLyQ10uQAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Access groups example\",\n        \"title\": \"Access groups example\",\n        \"src\": \"/static/97670ac0e688220fa7f8e2810d92d96b/3cbba/access-example.png\",\n        \"srcSet\": [\"/static/97670ac0e688220fa7f8e2810d92d96b/7fc1e/access-example.png 288w\", \"/static/97670ac0e688220fa7f8e2810d92d96b/a5df1/access-example.png 576w\", \"/static/97670ac0e688220fa7f8e2810d92d96b/3cbba/access-example.png 1152w\", \"/static/97670ac0e688220fa7f8e2810d92d96b/58488/access-example.png 1604w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`The steps below help the account owner start configuring the account in this manner.`}</p>\n    <h3>{`Architecture`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"/arch/environment\"\n      }}>{`Environment Architecture`}</a>{` shows the structure of the `}<Globals name=\"env\" mdxType=\"Globals\" />{` that will be installed. Typically, each `}<a parentName=\"p\" {...{\n        \"href\": \"/arch/teams\"\n      }}>{`development team`}</a>{` gets its own environment. However, multiple teams can share a single environment. The environment structure is designed to support best practices for a `}<a parentName=\"p\" {...{\n        \"href\": \"/arch/application\"\n      }}>{`cloud-native application architecture`}</a>{`, including designing applications that are `}<a parentName=\"p\" {...{\n        \"href\": \"/arch/manageable\"\n      }}>{`built to manage`}</a>{`.`}</p>\n    <h2>{`Set up account managers`}</h2>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note`}</strong>{`: The `}<strong parentName=\"p\">{`account owner`}</strong>{` creates this access group for account managers and adds the functional ID for managing API keys. See `}<a parentName=\"p\" {...{\n          \"href\": \"/admin/plan-installation#roles\"\n        }}>{`Plan Installation > Roles`}</a>{` for the overview of the roles involved.`}</p>\n    </InlineNotification>\n    <p>{`The account owner may want to delegate the responsibilities for configuring the account for all of the development teams that want environments. Those users who are delegated to will need account management permissions. An easy way to manage who has these permissions is to create an access group with those policies and add those users to the group. An account only needs one of these account manager access groups, which will be used to support all environments in the account.`}</p>\n    <p>{`In a new account, the account owner is the only user. Even after inviting other users, the account owner is initially the only user with the account management permissions needed to grant those permissions to other users. Therefore it is the account owner who must create the access group for account managers.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note`}</strong>{`: The video in `}<a parentName=\"p\" {...{\n          \"href\": \"/toolkit-resources/resource-mgmt#configuration-process\"\n        }}>{`Resource Access Management > Configuration Process`}</a>{` shows how to perform the steps in this process.`}</p>\n    </InlineNotification>\n    <h3>{`Prepare to run scripts`}</h3>\n    <p>{`We’ll use some scripts in the steps below to help create access groups. Here, we’ll download the scripts and prepare to run them. (If you want to use the console to manually configure the access groups, you can skip this step.)`}</p>\n    <p>{`Clone the Git repository with the scripts. (This repo also has the scripts for installing the `}<Globals name=\"env\" mdxType=\"Globals\" />{`.)`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Clone the `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-garage-cloud/ibm-garage-iteration-zero\"\n          }}>{`ibm-garage-iteration-zero`}</a>{` Git repository to your local filesystem`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`git clone git@github.com:ibm-garage-cloud/ibm-garage-iteration-zero.git\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Switch to the cloned directory`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`cd ibm-garage-iteration-zero\n`}</code></pre>\n      </li>\n    </ul>\n    <p>{`The scripts need you to log into IBM Cloud first. In the terminal you’ll use to run the scripts, log in to IBM Cloud.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Log in to the IBM Cloud CLI`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`ibmcloud login -a cloud.ibm.com -r <region>\n`}</code></pre></li>\n    </ul>\n    <h3>{`Access group for account managers`}</h3>\n    <p>{`The account owner must create an access group to grant the necessary permissions for managing the account. Do this by running a script, or by using the console to manually perform the steps in the script. Also, add the account manager(s) to this group.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note`}</strong>{`: IBM Cloud has multiple `}<a parentName=\"p\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account-services\"\n        }}>{`account management services`}</a>{`, in addition to IAM: Billing, License and entitlement, Support center, etc. An easy way to grant access to these individually is to create an access group for administering each: ACCT-MGR-BILLING-ADMIN, ACCT-MGR-LICENSE-ADMIN, ACCT-MGR-SUPPORT-ADMIN. The group created below only has IAM capabilities, so a good name for it is ACCT-MGR-IAM-ADMIN.`}</p>\n    </InlineNotification>\n    <p>{`To create the access group for the account managers:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create a new `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-account_setup\"\n        }}>{`access group`}</a>{`, name it something like `}<inlineCode parentName=\"li\">{`ACCT-MGR-IAM-ADMIN`}</inlineCode>{` (all capital letters) (or name it after your account)`}</li>\n      <li parentName=\"ul\">{`Run the script `}<inlineCode parentName=\"li\">{`./terraform/scripts/acp-mgr.sh`}</inlineCode>{`, which adds the necessary policies to the access group`}</li>\n      <li parentName=\"ul\">{`Add the account managers to the group`}</li>\n    </ul>\n    <p>{`The script adds policies that allow the user to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create resource groups`}</li>\n      <li parentName=\"ul\">{`Invite users to the account`}</li>\n      <li parentName=\"ul\">{`Create access groups`}</li>\n    </ul>\n    <p>{`The script also adds the same policies that an environment administrator has. But whereas an environment administrator can only manage the resources in one resource group, an account manager can manage the resources in all resource groups. This gives the account manager the ability in any resource group to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create clusters`}</li>\n      <li parentName=\"ul\">{`Manage the IBM Cloud Container Registry (used as the environment’s `}<a parentName=\"li\" {...{\n          \"href\": \"/tools/image-registry\"\n        }}>{`image registry`}</a>{`)`}</li>\n      <li parentName=\"ul\">{`Create service instances`}</li>\n    </ul>\n    <h3>{`Functional ID for infrastructure permissions`}</h3>\n    <p>{`Account managers need the permissions to create and manage IaaS resources required by a `}<Globals name=\"env\" mdxType=\"Globals\" />{`. Permissions for classic infrastructure (fka SoftLayer) cannot be added to an access group, only to a user. Rather than add these permissions to each account manager, create a `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-manapikey#ibm-cloud-api-keys\"\n      }}>{`functional ID`}</a>{` and grant it the infrastructure permissions. The functional ID will `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-users#api_key_most_cases\"\n      }}>{`own the API keys`}</a>{` that the Kubernetes service needs to create clusters. As account managers are added to and removed from the account, the functional ID will always remain and always have the necessary infrastructure permissions.`}</p>\n    <p>{`Set up the functional ID in the account:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create the functional ID, sign it up for an IBM Cloud account, and `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-iamuserinv\"\n        }}>{`invite the user`}</a>{` to this account`}</li>\n      <li parentName=\"ul\">{`Run the script `}<inlineCode parentName=\"li\">{`./terraform/scripts/acp-iaas.sh`}</inlineCode>{` for the functional ID’s user, which adds the necessary permissions to the user`}</li>\n    </ul>\n    <p>{`The script adds the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/docs/containers?topic=containers-access_reference#infra\"\n      }}>{`classic infrastructure permissions`}</a>{` needed to create and manage clusters:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create VLANs`}</li>\n      <li parentName=\"ul\">{`Create Kubernetes Service clusters (e.g. create virtual servers, storage, and networking)`}</li>\n      <li parentName=\"ul\">{`Manage Kubernetes Service clusters (e.g. add nodes)`}</li>\n    </ul>\n    <p>{`The script also adds the IAM permissions to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Run the command to reset the API key that the Kubernetes service will use`}</li>\n    </ul>\n    <p>{`By granting these infrastructure permissions to the functional ID and using it to create API keys, the account managers and environment administrators can create Kubernetes and OpenShift clusters without needing infrastructure permissions.`}</p>\n    <p>{`Next, each account manager will need to use the functional ID to reset the API key that the Kubernetes service will use. By using the functional ID, the API key will be owned by the functional ID instead of by the account manager. The account managers need a way to log in as the functional ID without all of them sharing the ID’s password or a single API key. Thus each account manager needs their own API key for the functional ID’s account.`}</p>\n    <p>{`Create API keys for the functional ID:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Log into IBM Cloud as the functional ID (not as the account owner)`}</li>\n      <li parentName=\"ul\">{`Switch to this account that you’re configuring`}</li>\n      <li parentName=\"ul\">{`For each account manager, `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/iam?topic=iam-userapikey#create_user_key\"\n        }}>{`create an API key`}</a>{`, downloading each key to a file`}</li>\n      <li parentName=\"ul\">{`Give each account manager their API key file for the functional ID`}</li>\n    </ul>\n    <p>{`Users should not share these API key files with each other. When a user is no longer an account manager, remove them from the access group and delete their API key. To make a user an account manager, add them to the access group and create an API key for them.`}</p>\n    <h2>{`Process`}</h2>\n    <p>{`The overall process:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Configure account — An account manager configures the account so that `}<Globals name=\"env\" mdxType=\"Globals\" />{`s can be installed`}</li>\n      <li parentName=\"ol\">{`Install environment — An environment administrator runs the `}<Globals name=\"shortName\" mdxType=\"Globals\" />{` scripts to create a `}<Globals name=\"env\" mdxType=\"Globals\" /></li>\n      <li parentName=\"ol\">{`Configure environment — The environment administrator finishes setting up the newly installed `}<Globals name=\"env\" mdxType=\"Globals\" /></li>\n    </ol>\n    <p>{`Once the environment is set up, the environment users can start using it to develop applications.`}</p>\n    <h3>{`Configure account`}</h3>\n    <p>{`First, before installing an environment, an account manager needs to configure the IBM Cloud account for the\nenvironment. See `}<a parentName=\"p\" {...{\n        \"href\": \"/admin/config-account\"\n      }}>{`Configure Account`}</a>{` for detailed instructions, which accomplish this:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Upgrade the image registry`}</li>\n      <li parentName=\"ol\">{`Prepare to run scripts`}</li>\n      <li parentName=\"ol\">{`Select a region and zone`}</li>\n      <li parentName=\"ol\">{`Select a pair of public/private VLANs`}</li>\n      <li parentName=\"ol\">{`Create a resource group`}</li>\n      <li parentName=\"ol\">{`Set the Kubernetes service API key`}</li>\n      <li parentName=\"ol\">{`Create an access group for environment administrators`}</li>\n      <li parentName=\"ol\">{`Create an access group for environment users`}</li>\n      <li parentName=\"ol\">{`Optionally, create a cluster for the environment`}</li>\n    </ol>\n    <h3>{`Install environment`}</h3>\n    <p>{`Second, once the account manager has configured the account for installing an environment, the account manager and the environment administrator need to jointly decide how the environment administrator is going to install the environment. There are two options:`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"/admin/installation-ibm-cloud\"\n      }}><strong parentName=\"a\">{`Install including creating a new cluster`}</strong></a>{`: The environment administrator who performs this install needs permissions to create clusters as well as service instances. The script will run as this user to create the cluster, create the service instances, and install the CI/CD tools in the cluster.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"/admin/installation-existing\"\n      }}><strong parentName=\"a\">{`Install into an existing cluster`}</strong></a>{`: The account manager creates the cluster and then grants the environment administrator access to it. The environment administrator who performs this install needs permissions to create service instances but not to create clusters. The script will run as the environment administrator to create the service instances and install the CI/CD tools in the existing cluster.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note`}</strong>{`: A third option is to `}<a parentName=\"p\" {...{\n          \"href\": \"/admin/installation-crc\"\n        }}>{`install an environment in Red Hat CodeReady Containers`}</a>{`. For this option, you’re not installing in IBM Cloud, so you don’t have to configure your IBM Cloud account. However, you do have to install CRC.`}</p>\n    </InlineNotification>\n    <h3>{`Configure environment`}</h3>\n    <p>{`Third, after installing the environment, before giving the users access to the environment, the environment administrator needs to finish configuring it. See `}<a parentName=\"p\" {...{\n        \"href\": \"/admin/config-install\"\n      }}>{`Configure Environment`}</a>{` for detailed instructions, which accomplish this:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Configure RBAC security in the cluster`}</li>\n      <li parentName=\"ul\">{`Test opening the `}<Globals name=\"dashboard\" mdxType=\"Globals\" /></li>\n      <li parentName=\"ul\">{`Complete setup of LogDNA`}</li>\n      <li parentName=\"ul\">{`Complete setup of SysDig`}</li>\n      <li parentName=\"ul\">{`Test the pipeline by deploying a first app`}</li>\n      <li parentName=\"ul\">{`Complete setup of Artifactory`}</li>\n      <li parentName=\"ul\">{`Complete setup of Argo CD`}</li>\n      <li parentName=\"ul\">{`Rerun pipeline and confirm that the app’s Helm chart is added to Artifactory`}</li>\n      <li parentName=\"ul\">{`Set up a GitOps repo to validate ArgoCD setup and configuration`}</li>\n    </ul>\n    <h2>{`Conclusion`}</h2>\n    <p>{`Having configured the account, installed the environment, and configured the environment, the administrators have now completed an end-to-end installation of a `}<Globals name=\"env\" mdxType=\"Globals\" />{`. It is ready for a development team to begin using for application development.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}